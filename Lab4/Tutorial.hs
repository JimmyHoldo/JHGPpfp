import Criterion.Main

main = do
    putStrLn $ show $ "Choose a number for fib calculations:"
    str <- getLine
    let i = read str :: Int
    defaultMain [
        bench "fib" $ nf fib i
    ]


-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------
fib :: Integer -> Integer
fib 1 = 1
fib 2 = 1
fib n = (fib (n-1)) + (fib (n-2))

-----------------------------------------------------------------------------
-- Parallel fib try 1                                                      --
-----------------------------------------------------------------------------

fib1 :: Integer -> Integer
fib1 1 = 1
fib1 2 = 1
fib1 n = fib1 (n-1) + (par (fib1 (n-1)) (fib1 (n-2)))

-----------------------------------------------------------------------------
-- Parallel fib try 2                                                      --
-----------------------------------------------------------------------------

fib2 :: Integer -> Integer
fib2 1 = 1
fib2 2 = 1
fib2 n = (par (fib2 (n-1)) (fib2 (n-2))) + fib2 (n-1)

-----------------------------------------------------------------------------
-- Parallel fib try 3                                                      --
-----------------------------------------------------------------------------

fib3 :: Integer -> Integer
fib3 1 = 1
fib3 2 = 1
fib3 n = (par fibn1 (fib3 (n-2))) + fibn1
	where fibn1 = fib3 (n-1)

-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------



-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------



-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------




-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------




-----------------------------------------------------------------------------
-- Sequential fib                                                          --
-----------------------------------------------------------------------------
